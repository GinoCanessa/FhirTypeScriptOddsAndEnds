// <auto-generated/>
// Contents of: hl7.fhir.r4.core version: 4.0.1
// Minimum TypeScript Version: 3.7
// FHIR Resource: OperationOutcome

import * as fhir from '../fhir.js'

import { IssueSeverityValueSet, IssueSeverityValueSetType, IssueSeverityValueSetEnum } from '../fhirValueSets/IssueSeverityValueSet.js'
import { IssueTypeValueSet, IssueTypeValueSetType, IssueTypeValueSetEnum } from '../fhirValueSets/IssueTypeValueSet.js'
import { OperationOutcomeValueSet, OperationOutcomeValueSetType, OperationOutcomeValueSetEnum } from '../fhirValueSets/OperationOutcomeValueSet.js'

/**
 * An error, warning, or information message that results from a system action.
 */
export type IOperationOutcomeIssue = fhir.IBackboneElement & { 
  /**
   * This is labeled as "Is Modifier" because applications should not confuse hints and warnings with errors.
   */
  severity: IssueSeverityValueSetEnum|null;
  /**
   * Extended properties for primitive element: OperationOutcome.issue.severity
   */
  _severity?: fhir.IFhirElement|undefined;
  /**
   * Describes the type of the issue. The system that creates an OperationOutcome SHALL choose the most applicable code from the IssueType value set, and may additional provide its own code for the error in the details element.
   */
  code: string|null;
  /**
   * Extended properties for primitive element: OperationOutcome.issue.code
   */
  _code?: fhir.IFhirElement|undefined;
  /**
   * A human readable description of the error issue SHOULD be placed in details.text.
   */
  details?: fhir.ICodeableConcept|undefined;
  /**
   * This may be a description of how a value is erroneous, a stack dump to help trace the issue or other troubleshooting information.
   */
  diagnostics?: string|undefined;
  /**
   * Extended properties for primitive element: OperationOutcome.issue.diagnostics
   */
  _diagnostics?: fhir.IFhirElement|undefined;
  /**
   * The root of the XPath is the resource or bundle that generated OperationOutcome.  Each XPath SHALL resolve to a single node.  This element is deprecated, and is being replaced by expression.
   */
  location?: string[]|undefined;
  /**
   * Extended properties for primitive element: OperationOutcome.issue.location
   */
  _location?: fhir.IFhirElement[]|undefined;
  /**
   * The root of the FHIRPath is the resource or bundle that generated OperationOutcome.  Each FHIRPath SHALL resolve to a single node.
   */
  expression?: string[]|undefined;
  /**
   * Extended properties for primitive element: OperationOutcome.issue.expression
   */
  _expression?: fhir.IFhirElement[]|undefined;
}

/**
 * A collection of error, warning, or information messages that result from a system action.
 */
export type IOperationOutcome = fhir.IDomainResource & { 
  /**
   * Resource Type Name
   */
  resourceType: "OperationOutcome";
  /**
   * An error, warning, or information message that results from a system action.
   */
  issue: fhir.IOperationOutcomeIssue[]|null;
}

/**
 * An error, warning, or information message that results from a system action.
 */
export class OperationOutcomeIssue extends fhir.BackboneElement implements IOperationOutcomeIssue {
  /**
   * This is labeled as "Is Modifier" because applications should not confuse hints and warnings with errors.
   */
  public severity: IssueSeverityValueSetEnum|null;
  /**
   * Extended properties for primitive element: OperationOutcome.issue.severity
   */
  public _severity?: fhir.FhirElement|undefined;
  /**
   * Describes the type of the issue. The system that creates an OperationOutcome SHALL choose the most applicable code from the IssueType value set, and may additional provide its own code for the error in the details element.
   */
  public code: string|null;
  /**
   * Extended properties for primitive element: OperationOutcome.issue.code
   */
  public _code?: fhir.FhirElement|undefined;
  /**
   * A human readable description of the error issue SHOULD be placed in details.text.
   */
  public details?: fhir.CodeableConcept|undefined;
  /**
   * This may be a description of how a value is erroneous, a stack dump to help trace the issue or other troubleshooting information.
   */
  public diagnostics?: string|undefined;
  /**
   * Extended properties for primitive element: OperationOutcome.issue.diagnostics
   */
  public _diagnostics?: fhir.FhirElement|undefined;
  /**
   * The root of the XPath is the resource or bundle that generated OperationOutcome.  Each XPath SHALL resolve to a single node.  This element is deprecated, and is being replaced by expression.
   */
  public location?: string[]|undefined;
  /**
   * Extended properties for primitive element: OperationOutcome.issue.location
   */
  public _location?: fhir.FhirElement[]|undefined;
  /**
   * The root of the FHIRPath is the resource or bundle that generated OperationOutcome.  Each FHIRPath SHALL resolve to a single node.
   */
  public expression?: string[]|undefined;
  /**
   * Extended properties for primitive element: OperationOutcome.issue.expression
   */
  public _expression?: fhir.FhirElement[]|undefined;
  /**
   * Default constructor for OperationOutcomeIssue - initializes any required elements to null if a value is not provided.
   */
  constructor(source:Partial<IOperationOutcomeIssue> = { }) {
    super(source);
    if (source['severity']) { this.severity = source.severity; }
    else { this.severity = null; }
    if (source['_severity']) { this._severity = new fhir.FhirElement(source._severity!); }
    if (source['code']) { this.code = source.code; }
    else { this.code = null; }
    if (source['_code']) { this._code = new fhir.FhirElement(source._code!); }
    if (source['details']) { this.details = new fhir.CodeableConcept(source.details!); }
    if (source['diagnostics']) { this.diagnostics = source.diagnostics; }
    if (source['_diagnostics']) { this._diagnostics = new fhir.FhirElement(source._diagnostics!); }
    if (source['location']) { this.location = source.location.map((x) => (x)); }
    if (source['_location']) { this._location = source._location.map((x) => new fhir.FhirElement(x)); }
    if (source['expression']) { this.expression = source.expression.map((x) => (x)); }
    if (source['_expression']) { this._expression = source._expression.map((x) => new fhir.FhirElement(x)); }
  }
  /**
   * Required-bound Value Set for severity
   */
  public severityRequiredValueSet():IssueSeverityValueSetType {
    return IssueSeverityValueSet;
  }
  /**
   * Required-bound Value Set for code
   */
  public codeRequiredValueSet():IssueTypeValueSetType {
    return IssueTypeValueSet;
  }
  /**
   * Example-bound Value Set for details
   */
  public detailsExampleValueSet():OperationOutcomeValueSetType {
    return OperationOutcomeValueSet;
  }
  /**
   * Function to perform basic model validation (e.g., check if required elements are present).
   */
  public override doModelValidation():[string,string][] {
    var results:[string,string][] = super.doModelValidation();
    if (!this["severity"]) { results.push(["severity",'Missing required element: OperationOutcome.issue.severity']); }
    if (this["_severity"]) { results.push(...this._severity.doModelValidation()); }
    if (!this["code"]) { results.push(["code",'Missing required element: OperationOutcome.issue.code']); }
    if (this["_code"]) { results.push(...this._code.doModelValidation()); }
    if (this["details"]) { results.push(...this.details.doModelValidation()); }
    if (this["_diagnostics"]) { results.push(...this._diagnostics.doModelValidation()); }
    if (this["_location"]) { this._location.forEach((x) => { results.push(...x.doModelValidation()); }) }
    if (this["_expression"]) { this._expression.forEach((x) => { results.push(...x.doModelValidation()); }) }
    return results;
  }
}

/**
 * A collection of error, warning, or information messages that result from a system action.
 */
export class OperationOutcome extends fhir.DomainResource implements IOperationOutcome {
  /**
   * Resource Type Name
   */
  public resourceType: "OperationOutcome";
  /**
   * An error, warning, or information message that results from a system action.
   */
  public issue: fhir.OperationOutcomeIssue[]|null;
  /**
   * Default constructor for OperationOutcome - initializes any required elements to null if a value is not provided.
   */
  constructor(source:Partial<IOperationOutcome> = { }) {
    super(source);
    this.resourceType = 'OperationOutcome';
    if (source['issue']) { this.issue = source.issue.map((x) => new fhir.OperationOutcomeIssue(x)); }
    else { this.issue = null; }
  }
  /**
   * Function to perform basic model validation (e.g., check if required elements are present).
   */
  public override doModelValidation():[string,string][] {
    var results:[string,string][] = super.doModelValidation();
    if (!this["resourceType"]) { results.push(["resourceType",'Missing required element: OperationOutcome.resourceType']); }
    if ((!this["issue"]) || (this["issue"].length === 0)) { results.push(["issue",'Missing required element: OperationOutcome.issue']); }
    if (this["issue"]) { this.issue.forEach((x) => { results.push(...x.doModelValidation()); }) }
    return results;
  }
}
